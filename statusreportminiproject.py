# -*- coding: utf-8 -*-
"""StatusReportMiniProject.ipynb

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/1EG763w3S2lBKLF7oSdY3eCrEfy91g7bk
"""

report = """
Aiza Javed: This is Aiza Javed daughter of Muhammad Javed. You have registered in 17 subjects and passed 17 subjects with CGPA 2.49.*end*
Amna Naveed: This is Amna Naveed daughter of Muhammad Naveed. You have registered in 17 subjects and passed 17 subjects with CGPA 3.48.*end*
Arooj Irfan: This is Arooj Irfan daughter of Muhammad Irfan Ellahi. You have registered in 17 subjects and passed 17 subjects with CGPA 2.42.*end*
Atif Islam: This is Atif Islam son of Islam Hussain. You have registered in 17 subjects and passed 16 subjects with CGPA 2.44.*end*
Ayesha Shahzad: This is Ayesha Shahzad daughter of Shahzad Munir. You have registered in 17 subjects and passed 14 subjects with CGPA 1.55.*end*
Fahad Aziz Dar: This is Fahad Aziz son of Abdul Aziz Dar. You have registered in 17 subjects and passed 14 subjects with CGPA 2.02.*end*
Haiqa Jabeen: This is Haiqa Jabeen daughter of Muhammad Imran Shahid. You have registered in 17 subjects and passed 17 subjects with CGPA 3.17.*end*
Hasnain Ejaz: This is Hasnain Ejaz son of Ejaz Ahmed. You have registered in 17 subjects and passed 16 subjects with CGPA 2.53.*end*
Hassan Razzaq: This is Hassan Razzaq son of Abdul Razzaq. You have registered in 17 subjects and passed 16 subjects with CGPA 2.37.*end*
Inzimam Asghar: This is Inzimam Asghar son of Ali Asghar. You have registered in 17 subjects and passed 16 subjects with CGPA 1.82.*end*
Iqra Bibi: This is Iqra Bibi daughter of Abid Khan. You have registered in 17 subjects and passed 17 subjects with CGPA 3.16.*end*
Madiha Mubashir: This is Madiha Mubashir daughter of Mubashir Hussain Abbasi. You have registered in 17 subjects and passed 16 subjects with CGPA 2.95.*end*
Mahnoor Aqeel: This is Mahnoor Aqeel daughter of Aqeel-Ur-Rehman. You have registered in 17 subjects and passed 17 subjects with CGPA 3.39.*end*
Maryam Fatima: This is Maryam Fatima daughter of Nasir Hussain. You have registered in 17 subjects and passed 17 subjects with CGPA 2.84.*end*
Momina Hussnain: This is Momina Hussnain daughter of Ghulam Hussain. You have registered in 17 subjects and passed 17 subjects with CGPA 3.07.*end*
Muhammad Ahsan: This is Muhammad Ahsan son of Muhammad Rasheed. You have registered in 17 subjects and passed 15 subjects with CGPA 2.06.*end*
Muhammad Awais: This is Muhammad Awais son of Ali Javed Iqbal. You have registered in 17 subjects and passed 17 subjects with CGPA 2.73.*end*
Muhammad Bilal: This is Muhammad Bilal son of Muhammad Shabbir. You have registered in 17 subjects and passed 17 subjects with CGPA 2.59.*end*
Muhammad Hasnat: This is Muhammad Hasnat son of Zafar Iqbal. You have registered in 17 subjects and passed 17 subjects with CGPA 3.44.*end*
Muhammad Hussain: This is Muhammad Hussain son of Haji Muhammad. You have registered in 17 subjects and passed 17 subjects with CGPA 3.22.*end*
Muhammad Junaid: This is Muhammad Junaid son of Muhammad Riaz. You have registered in 17 subjects and passed 17 subjects with CGPA 2.67.*end*
Muhammad Kaif: This is Muhammad Kaif son of Muhammad Saeed. You have registered in 17 subjects and passed 17 subjects with CGPA 3.41.*end*
Muhammad Mahhin Shahzad: This is Muhammad Mahhin Shahzad son of Muhammad Shahzad Saleem. You have registered in 17 subjects and passed 17 subjects with CGPA 3.74.*end*
Muhammad Majid Hanif: This is Muhammad Majid Hanif son of Muhammad Hanif. You have registered in 17 subjects and passed 10 subjects with CGPA 1.09.*end*
Muhammad Rohail: This is Muhammad Rohail son of Khalid Waheed. You have registered in 17 subjects and passed 17 subjects with CGPA 3.04.*end*
Muhammad Sohaib: This is Muhammad Sohaib son of Ilyas Muhammad Yasir. You have registered in 17 subjects and passed 17 subjects with CGPA 3.10.*end*
Muhammad Talha: This is Muhammad Talha son of Shahzad Saleem Shahzad. You have registered in 17 subjects and passed 17 subjects with CGPA 3.06.*end*
Muhammad Usama: This is Muhammad Usama son of Abdul Qadir. You have registered in 17 subjects and passed 17 subjects with CGPA 2.61.*end*
Muneeb Ur Rehman: This is Muneeb Ur Rehman son of Naseer Hussain Rajpoot. You have registered in 17 subjects and passed 17 subjects with CGPA 3.00.*end*
Murtaza Hussain: This is Murtaza Hussain son of Ali Jan Muhammad Hussain. You have registered in 17 subjects and passed 12 subjects with CGPA 1.42.*end*
Razeena Khalid: This is Razeena Khalid daughter of Khalid Mehmood Hussain Bhatti. You have registered in 17 subjects and passed 16 subjects with CGPA 2.68.*end*
Rida Eman: This is Rida Eman daughter of Aftab Alam. You have registered in 17 subjects and passed 17 subjects with CGPA 3.65.*end*
Saad Ramzan Chaudhary: This is Saad Ramzan Chaudhary son of Muhammad Ramzan. You have registered in 17 subjects and passed 14 subjects with CGPA 2.03.*end*
Saba Zaman: This is Saba Zaman daughter of Muhammad Zaman. You have registered in 17 subjects and passed 17 subjects with CGPA 3.37.*end*
Shahmir Kiani: This is Shahmir Kiani son of Jahangir Ahmed. You have registered in 17 subjects and passed 17 subjects with CGPA 2.98.*end*
Syed Ali Haider: This is Syed Ali Haider son of Jamil Ahmed Shah. You have registered in 17 subjects and passed 17 subjects with CGPA 2.76.*end*
Taimoor Hassan: This is Taimoor Hassan son of Saeed Hassan. You have registered in 17 subjects and passed 14 subjects with CGPA 1.85.*end*
Tooba Fayyaz: This is Tooba Fayyaz daughter of Fayyaz Ahmad. You have registered in 17 subjects and passed 17 subjects with CGPA 3.19.*end*
Umme-E-Umaima: This is Umme-E-Umaima daughter of Sadaqat Ali. You have registered in 17 subjects and passed 17 subjects with CGPA 2.86.*end*
Uzair Mushtaq: This is Uzair Mushtaq son of Muhammad Mushtaq. You have registered in 17 subjects and passed 14 subjects with CGPA 1.77.*end*
Wajahat Ahmed: This is Wajahat Ahmed son of Faisal Mahmood. You have registered in 17 subjects and passed 17 subjects with CGPA 2.85.*end*
Yasir Khan: This is Yasir Khan son of Mian Khan. You have registered in 17 subjects and passed 17 subjects with CGPA 3.73.*end*
Zain Habib: This is Zain Habib son of Muhammad Habib. You have registered in 17 subjects and passed 15 subjects with CGPA 1.77.*end*
Zain Mumtaz: This is Zain Mumtaz son of Mumtaz Ahmed Abbasi. You have registered in 17 subjects and passed 14 subjects with CGPA 1.97.*end*
"""

import tensorflow as tf
from tensorflow.keras.preprocessing.text import Tokenizer

tokenizer = Tokenizer()

tokenizer.fit_on_texts([report])

tokenizer.word_index

len(tokenizer.word_index)

input_sequences = []

for sentence in report.split('\n'):
  tokenized_sentence = tokenizer.texts_to_sequences([sentence])[0]

  for i in range(len(tokenized_sentence)):
    input_sequences.append(tokenized_sentence[:i+1])

input_sequences

max_len = max([len(x) for x in input_sequences])

from tensorflow.keras.preprocessing.sequence import pad_sequences
padded_input_sequences = pad_sequences(input_sequences,padding='pre',maxlen = max_len)

padded_input_sequences

X = padded_input_sequences[:,:-1]
y = padded_input_sequences[:,-1]
X.shape

y.shape

from tensorflow.keras.utils import to_categorical
y = to_categorical(y,num_classes=173)

y.shape

from tensorflow.keras import Sequential
from tensorflow.keras.layers import Dense,Embedding,LSTM

model1 = Sequential()

model1.add(Embedding(173,output_dim=100,input_length=27))
model1.add(LSTM(150))
model1.add(Dense(173,activation='softmax'))

model1.compile(optimizer='Adam',loss='categorical_crossentropy',metrics=['accuracy'])

model1.summary()

model1.fit(X,y,epochs=100)

import time
import numpy

text = input("Enter student Name of 4A to search his/her past results: ")

for i in range(24):
    # Tokenize and pad the input text
    token_text = tokenizer.texts_to_sequences([text])[0]
    padded_token_text = pad_sequences([token_text], padding='pre', maxlen=27)

    # Predict
    pos = numpy.argmax(model1.predict(padded_token_text))

    # Find the corresponding word in the word index
    for word, index in tokenizer.word_index.items():
        if index == pos:
            text = text + " " + word
            print(text)
            time.sleep(1)

